name: Keep Render Services Alive (Max Uptime)

on:
  schedule:
    - cron: "*/5 * * * *"
  workflow_dispatch:

jobs:
  keep-alive:
    runs-on: ubuntu-latest
    timeout-minutes: 10

    steps:
      - name: Ping Render services repeatedly
        run: |
          SERVICES=(
            "https://svgconvert.onrender.com/api/ping"
            "https://test-gpt-y58q.onrender.com/api/ping"
            "https://ai-backend-ak38.onrender.com/api/ping"
          )

          for round in {1..4}; do
            echo "Ping round $round"
            for url in "${SERVICES[@]}"; do
              echo "â†’ $url"
              curl -s -m 10 "$url" || true
            done
            sleep 60
          done

